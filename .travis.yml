# Travis Configuration for sphinxcontrib-jupyter

sudo: false        #Use new Container Infrastructure
language: python
python:
  - 3.7

env:
  - SPHINX_VERSION=1.8.5
  - SPHINX_VERSION=2.1.2
  - SPHINX_VERSION=2.4.1

directories:
  - "/tmp/texlive"
  - "$HOME/.texlive"

timeout: 3600

notifications:
  email: false

branches:
  only:
    - master

before_install:
  - travis_wait 45 bash ./util/setup_latex.sh
  - export PATH="/tmp/texlive/bin/x86_64-linux:$PATH"

addons:
  apt_packages:
    - pandoc

install:
  - pip install sphinx==$SPHINX_VERSION nbconvert nbformat dask==2.5.2 distributed==2.5.2 nbdime;
  - pip install sphinxcontrib-bibtex;
  - python setup.py install

script:
  - cd tests && make test && make no-inline-test
